{"ast":null,"code":"import _slicedToArray from\"/Users/soufianemejahed/Desktop/Delivery/Test_web_Ap/react-js-login-registration-hooks/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Routes,Route,Link}from\"react-router-dom\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"./App.css\";import AuthService from\"./services/auth.service\";import Login from\"./components/Login\";import Register from\"./components/Register\";import Home from\"./components/Home\";import Profile from\"./components/Profile\";import BoardUser from\"./components/BoardUser\";import BoardModerator from\"./components/BoardModerator\";import BoardAdmin from\"./components/BoardAdmin\";import AddTutorial from\"./components/add-tutorial.component\";import Tutorial from\"./components/tutorial.component\";import TutorialsList from\"./components/tutorials-list.component\";// import AuthVerify from \"./common/AuthVerify\";\nimport EventBus from\"./common/EventBus\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModeratorBoard=_useState2[0],setShowModeratorBoard=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAdminBoard=_useState4[0],setShowAdminBoard=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),currentUser=_useState6[0],setCurrentUser=_useState6[1];useEffect(function(){var user=AuthService.getCurrentUser();if(user){setCurrentUser(user);setShowModeratorBoard(user.roles.includes(\"ROLE_MODERATOR\"));setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));}EventBus.on(\"logout\",function(){logOut();});return function(){EventBus.remove(\"logout\");};},[]);var logOut=function logOut(){AuthService.logout();setShowModeratorBoard(false);setShowAdminBoard(false);setCurrentUser(undefined);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand navbar-dark bg-dark\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:\"bezKoder\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"nav-link\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/tutorials\",className:\"nav-link\",children:\"Tutorials\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/add\",className:\"nav-link\",children:\"Add\"})}),showModeratorBoard&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/mod\",className:\"nav-link\",children:\"Moderator Board\"})}),showAdminBoard&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"nav-link\",children:\"Admin Board\"})}),currentUser&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/user\",className:\"nav-link\",children:\"User\"})})]}),currentUser?/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav ml-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"nav-link\",children:currentUser.username})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"nav-link\",onClick:logOut,children:\"LogOut\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav ml-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"nav-link\",children:\"Sign Up\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-3\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(BoardUser,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mod\",element:/*#__PURE__*/_jsx(BoardModerator,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(BoardAdmin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(TutorialsList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/tutorials\",element:/*#__PURE__*/_jsx(TutorialsList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add\",element:/*#__PURE__*/_jsx(AddTutorial,{})}),/*#__PURE__*/_jsx(Route,{path:\"/tutorials/:id\",element:/*#__PURE__*/_jsx(Tutorial,{})})]})})]});};export default App;","map":{"version":3,"sources":["/Users/soufianemejahed/Desktop/Delivery/Test_web_Ap/react-js-login-registration-hooks/src/App.js"],"names":["React","useState","useEffect","Routes","Route","Link","AuthService","Login","Register","Home","Profile","BoardUser","BoardModerator","BoardAdmin","AddTutorial","Tutorial","TutorialsList","EventBus","App","showModeratorBoard","setShowModeratorBoard","showAdminBoard","setShowAdminBoard","undefined","currentUser","setCurrentUser","user","getCurrentUser","roles","includes","on","logOut","remove","logout","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AuthService from \"./services/auth.service\";\n\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Home from \"./components/Home\";\nimport Profile from \"./components/Profile\";\nimport BoardUser from \"./components/BoardUser\";\nimport BoardModerator from \"./components/BoardModerator\";\nimport BoardAdmin from \"./components/BoardAdmin\";\nimport AddTutorial from \"./components/add-tutorial.component\";\nimport Tutorial from \"./components/tutorial.component\";\nimport TutorialsList from \"./components/tutorials-list.component\";\n\n// import AuthVerify from \"./common/AuthVerify\";\nimport EventBus from \"./common/EventBus\";\n\nconst App = () => {\n  const [showModeratorBoard, setShowModeratorBoard] = useState(false);\n  const [showAdminBoard, setShowAdminBoard] = useState(false);\n  const [currentUser, setCurrentUser] = useState(undefined);\n\n  useEffect(() => {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      setCurrentUser(user);\n      setShowModeratorBoard(user.roles.includes(\"ROLE_MODERATOR\"));\n      setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));\n    }\n\n    EventBus.on(\"logout\", () => {\n      logOut();\n    });\n\n    return () => {\n      EventBus.remove(\"logout\");\n    };\n  }, []);\n\n  const logOut = () => {\n    AuthService.logout();\n    setShowModeratorBoard(false);\n    setShowAdminBoard(false);\n    setCurrentUser(undefined);\n  };\n\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n        <Link to={\"/\"} className=\"navbar-brand\">\n          bezKoder\n        </Link>\n        <div className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <Link to={\"/home\"} className=\"nav-link\">\n              Home\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n              <Link to={\"/tutorials\"} className=\"nav-link\">\n                Tutorials\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to={\"/add\"} className=\"nav-link\">\n                Add\n              </Link>\n            </li>\n\n          {showModeratorBoard && (\n            <li className=\"nav-item\">\n              <Link to={\"/mod\"} className=\"nav-link\">\n                Moderator Board\n              </Link>\n            </li>\n          )}\n\n          {showAdminBoard && (\n            <li className=\"nav-item\">\n              <Link to={\"/admin\"} className=\"nav-link\">\n                Admin Board\n              </Link>\n            </li>\n          )}\n\n          {currentUser && (\n            <li className=\"nav-item\">\n              <Link to={\"/user\"} className=\"nav-link\">\n                User\n              </Link>\n            </li>\n          )}\n        </div>\n\n        {currentUser ? (\n          <div className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/profile\"} className=\"nav-link\">\n                {currentUser.username}\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <a href=\"/login\" className=\"nav-link\" onClick={logOut}>\n                LogOut\n              </a>\n            </li>\n          </div>\n        ) : (\n          <div className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/login\"} className=\"nav-link\">\n                Login\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link to={\"/register\"} className=\"nav-link\">\n                Sign Up\n              </Link>\n            </li>\n          </div>\n        )}\n      </nav>\n\n      <div className=\"container mt-3\">\n        <Routes>\n          <Route exact path={\"/\"} element={<Home />} />\n          <Route exact path={\"/home\"} element={<Home />} />\n          <Route exact path=\"/login\" element={<Login />} />\n          <Route exact path=\"/register\" element={<Register />} />\n          <Route exact path=\"/profile\" element={<Profile />} />\n          <Route path=\"/user\" element={<BoardUser />} />\n          <Route path=\"/mod\" element={<BoardModerator />} />\n          <Route path=\"/admin\" element={<BoardAdmin />} />\n          <Route path=\"/\" element={<TutorialsList/>} />\n            <Route path=\"/tutorials\" element={<TutorialsList/>} />\n            <Route path=\"/add\" element={<AddTutorial/>} />\n            <Route path=\"/tutorials/:id\" element={<Tutorial/>} />\n        </Routes>\n      </div>\n\n      {/* <AuthVerify logOut={logOut}/> */}\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}